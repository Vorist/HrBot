# suspicion.py

# --- üîç –ü—ñ–¥–æ–∑—Ä—ñ–ª—ñ —Ñ—Ä–∞–∑–∏ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏ --- #
SUSPICION_CATEGORIES = {
    "–°–∫–µ–ø—Å–∏—Å / –Ω–µ–¥–æ–≤—ñ—Ä–∞": [
        "—Ü–µ —Å–∫–∞–º", "—Å–∫–∞–º", "—Ä–æ–∑–≤–æ–¥", "–ª–æ—Ö–æ—Ç—Ä–æ–Ω", "–±—Ä–µ—Ö–Ω—è", "–Ω–µ –≤—ñ—Ä—é",
        "–∑–∞–Ω–∞–¥—Ç–æ –¥–æ–±—Ä–µ —â–æ–± –±—É—Ç–∏ –ø—Ä–∞–≤–¥–æ—é", "—Ü–µ —Ç–æ—á–Ω–æ –Ω–µ –∞—Ñ–µ—Ä–∞", "—Ü–µ –∑–∞–∫–æ–Ω–Ω–æ", "—Ü–µ –ª–µ–≥–∞–ª—å–Ω–æ",
        "—Ä–µ–∞–ª—å–Ω–∞ –∫–æ–º–ø–∞–Ω—ñ—è", "—Ü–µ –ø—Ä–∞–≤–¥–∞", "—Ü–µ —Ç–æ—á–Ω–æ", "—Å–µ—Ä–π–æ–∑–Ω–æ", "–Ω–µ —Å—Ö–æ–∂–µ –Ω–∞ –ø—Ä–∞–≤–¥—É",
    ],
    "AI-–ø—ñ–¥–æ–∑—Ä–∞": [
        "—Ü–µ –±–æ—Ç", "—Ç–∏ –±–æ—Ç", "–≤–∏ –±–æ—Ç", "—Ç–∏ ai", "–≤–∏ ai", "—Ç–∏ –Ω–µ –ª—é–¥–∏–Ω–∞", "–≤–∏ –Ω–µ –ª—é–¥–∏–Ω–∞",
        "gpt", "chatgpt", "openai", "—à—Ç—É—á–Ω–∏–π —ñ–Ω—Ç–µ–ª–µ–∫—Ç"
    ],
    "–ù–µ–≥–∞—Ç–∏–≤ / –≤—ñ–¥–º–æ–≤–∞": [
        "–Ω–µ —Ü—ñ–∫–∞–≤–æ", "–Ω–µ —Ö–æ—á—É", "–Ω–µ –¥—è–∫—É—é", "–≤—ñ–¥—á–µ–ø–∏—Å—å", "–≤—ñ–¥–ø–∏—à–∏—Å—å", "–Ω–µ —Ç—É—Ä–±—É–π—Ç–µ",
        "–º–µ–Ω—ñ –Ω–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å", "–π–¥—ñ—Ç—å –Ω–∞—Ñ—ñ–≥", "–¥–æ –ø–æ–±–∞—á–µ–Ω–Ω—è", "–≤–∂–µ –Ω–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ", "–±–∞–π"
    ],
    "–¢–µ—Ö–Ω—ñ—á–Ω–∞ —Ç—Ä–∏–≤–æ–≥–∞": [
        "–∑–≤—ñ–¥–∫–∏ –º—ñ–π –Ω–æ–º–µ—Ä", "–¥–µ –≤–∏ –º–µ–Ω–µ –∑–Ω–∞–π—à–ª–∏", "–º–µ–Ω–µ –∑–ª–∞–º–∞–ª–∏", "–≤–∏ —Ö–∞–∫–µ—Ä–∏", "–ø–æ–ª—ñ—Ü—ñ—è –∑–Ω–∞—î –ø—Ä–æ –≤–∞—Å"
    ],
    "–¢—Ä–æ–ª—ñ–Ω–≥ / –Ω–∞—Å–º—ñ—à–∫–∞": [
        "–≤–∏ —â–æ", "–≤–∏ –Ω–æ—Ä–º–∞–ª—å–Ω—ñ", "—Ü–µ –∂–∞—Ä—Ç", "—à–æ —Ç–∏ –º–µ–ª–µ—à", "–¥—É—Ä–Ω—è —è–∫–∞—Å—å",
        "–≤–∏ –∑ –¥—É–±–∞ –≤–ø–∞–ª–∏", "–ø—Ä–∏–∫–æ–ª"
    ],
    "–†–æ—Å—ñ–π—Å—å–∫—ñ –≤–µ—Ä—Å—ñ—ó": [
        "–º–Ω–µ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ", "—è –Ω–µ –∏—â—É —Ä–∞–±–æ—Ç—É", "—ç—Ç–æ —Å–∫–∞–º", "—Ä–∞–∑–≤–æ–¥", "–ª–æ—Ö–æ—Ç—Ä–æ–Ω",
        "–≤—ã –±–æ—Ç", "—ç—Ç–æ –±–æ—Ç", "–≤—ã —á—Ç–æ, –ø—Ä–∏–∫–∞–ª—ã–≤–∞–µ—Ç–µ—Å—å", "—Å–µ—Ä—å–µ–∑–Ω–æ?", "–Ω–µ —Ö–æ—á—É",
        "–Ω–µ –ø–∏—à–∏—Ç–µ", "–æ—Ç—Å—Ç–∞–Ω—å—Ç–µ", "–¥–æ —Å–≤–∏–¥–∞–Ω–∏—è"
    ]
}


def is_suspicious(text: str) -> bool:
    """
    –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –º—ñ—Å—Ç–∏—Ç—å –±—É–¥—å-—è–∫—É –ø—ñ–¥–æ–∑—Ä—ñ–ª—É —Ñ—Ä–∞–∑—É.
    """
    lowered = text.lower()
    return any(
        phrase in lowered
        for phrases in SUSPICION_CATEGORIES.values()
        for phrase in phrases
    )


def get_suspicion_reason(text: str):
    """
    –ü–æ–≤–µ—Ä—Ç–∞—î –ø–µ—Ä—à—É –∑–Ω–∞–π–¥–µ–Ω—É –ø—ñ–¥–æ–∑—Ä—ñ–ª—É —Ñ—Ä–∞–∑—É —Ç–∞ —ó—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—é, –∞–±–æ None.
    """
    lowered = text.lower()
    for category, phrases in SUSPICION_CATEGORIES.items():
        for phrase in phrases:
            if phrase in lowered:
                return {
                    "category": category,
                    "matched_phrase": phrase
                }
    return None


# --- –¢–µ—Å—Ç–æ–≤–∏–π –∑–∞–ø—É—Å–∫ --- #
if __name__ == "__main__":
    test_text = "—Ü–µ —Å–∫–∞–º, –≤—ñ–¥–ø–∏—à—ñ—Ç—å—Å—è"
    print("‚ùì –ü—ñ–¥–æ–∑—Ä—ñ–ª–æ:", is_suspicious(test_text))
    print("üîç –ü—Ä–∏—á–∏–Ω–∞:", get_suspicion_reason(test_text))
